/**
* @author Ê·´¿»ª(shichunhua)
* @fileoverview Dom Effect Class
* @contact  Hi:newdumdum   QQ:38898431  Email:sch119@163.com
* @copyright
*/
var SchAIM=(function(){var a={Linear:function(f,e,h,g){return h*f/g+e;},Quad:{easeIn:function(f,e,h,g){return h*(f/=g)*f+e;},easeOut:function(f,e,h,g){return -h*(f/=g)*(f-2)+e;},easeInOut:function(f,e,h,g){if((f/=g/2)<1){return h/2*f*f+e;}return -h/2*((--f)*(f-2)-1)+e;}},Cubic:{easeIn:function(f,e,h,g){return h*(f/=g)*f*f+e;},easeOut:function(f,e,h,g){return h*((f=f/g-1)*f*f+1)+e;},easeInOut:function(f,e,h,g){if((f/=g/2)<1){return h/2*f*f*f+e;}return h/2*((f-=2)*f*f+2)+e;}},Quart:{easeIn:function(f,e,h,g){return h*(f/=g)*f*f*f+e;},easeOut:function(f,e,h,g){return -h*((f=f/g-1)*f*f*f-1)+e;},easeInOut:function(f,e,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+e;}return -h/2*((f-=2)*f*f*f-2)+e;}},Quint:{easeIn:function(f,e,h,g){return h*(f/=g)*f*f*f*f+e;},easeOut:function(f,e,h,g){return h*((f=f/g-1)*f*f*f*f+1)+e;},easeInOut:function(f,e,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+e;}return h/2*((f-=2)*f*f*f*f+2)+e;}},Sine:{easeIn:function(f,e,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+e;},easeOut:function(f,e,h,g){return h*Math.sin(f/g*(Math.PI/2))+e;},easeInOut:function(f,e,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+e;}},Expo:{easeIn:function(f,e,h,g){return(f==0)?e:h*Math.pow(2,10*(f/g-1))+e;},easeOut:function(f,e,h,g){return(f==g)?e+h:h*(-Math.pow(2,-10*f/g)+1)+e;},easeInOut:function(f,e,h,g){if(f==0){return e;}if(f==g){return e+h;}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+e;}return h/2*(-Math.pow(2,-10*--f)+2)+e;}},Circ:{easeIn:function(f,e,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+e;},easeOut:function(f,e,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+e;},easeInOut:function(f,e,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+e;}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+e;}},Elastic:{easeIn:function(g,e,k,j,f,i){if(g==0){return e;}if((g/=j)==1){return e+k;}if(!i){i=j*0.3;}if(!f||f<Math.abs(k)){f=k;var h=i/4;}else{var h=i/(2*Math.PI)*Math.asin(k/f);}return -(f*Math.pow(2,10*(g-=1))*Math.sin((g*j-h)*(2*Math.PI)/i))+e;},easeOut:function(g,e,k,j,f,i){if(g==0){return e;}if((g/=j)==1){return e+k;}if(!i){i=j*0.3;}if(!f||f<Math.abs(k)){f=k;var h=i/4;}else{var h=i/(2*Math.PI)*Math.asin(k/f);}return(f*Math.pow(2,-10*g)*Math.sin((g*j-h)*(2*Math.PI)/i)+k+e);},easeInOut:function(g,e,k,j,f,i){if(g==0){return e;}if((g/=j/2)==2){return e+k;}if(!i){i=j*(0.3*1.5);}if(!f||f<Math.abs(k)){f=k;var h=i/4;}else{var h=i/(2*Math.PI)*Math.asin(k/f);}if(g<1){return -0.5*(f*Math.pow(2,10*(g-=1))*Math.sin((g*j-h)*(2*Math.PI)/i))+e;}return f*Math.pow(2,-10*(g-=1))*Math.sin((g*j-h)*(2*Math.PI)/i)*0.5+k+e;}},Back:{easeIn:function(f,e,i,h,g){if(g==undefined){g=1.70158;}return i*(f/=h)*f*((g+1)*f-g)+e;},easeOut:function(f,e,i,h,g){if(g==undefined){g=1.70158;}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+e;},easeInOut:function(f,e,i,h,g){if(g==undefined){g=1.70158;}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+e;}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+e;}},Bounce:{easeIn:function(f,e,h,g){return h-a.Bounce.easeOut(g-f,0,h,g)+e;},easeOut:function(f,e,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+e;}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+e;}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+e;}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+e;}}}},easeInOut:function(f,e,h,g){if(f<g/2){return a.Bounce.easeIn(f*2,0,h,g)*0.5+e;}else{return a.Bounce.easeOut(f*2-g,0,h,g)*0.5+h*0.5+e;}}}};var b=function(e,d,f,c,i,g,h){this._node=e;this._propertyName=d;this._startValue=f;this._endValue=c;this._easing=i||a.Expo.easeInOut;this._duration=g<0.01?0.01:g;this._callback=h;this._pixelDictionary=["width","height","left","top","right","bottom","padding","padding-left","padding-top","padding-bottom","padding-right","margin","margin-left","margin-top","margin-bottom","margin-right","font-size","background-position","line-height","border-width","border-left-width","border-top-width","border-right-width","border-bottom-width","color","background-color","border-color"];this._runInterval=null;this._timeLine=10;this._needPixel=false;this._isIE=/msie/i.test(navigator.userAgent);if(this._checkParams()){this._needPixel=this._getIndex(this._pixelDictionary,this._propertyName)!=-1;this._run();}};b.prototype={_checkParams:function(){var d=this._node!=null&&this._node.getAttribute!=null&&this._propertyName!=null;var c=false;if(this._propertyName.indexOf("color")!=-1){var e=/(^\s*)|(\s*$)/g;c=!!this._startValue&&this._startValue.replace(e,"")!=""&&!!this._endValue&&this._endValue.replace(e,"")!=""&&!isNaN(this._duration);}else{c=!isNaN(this._startValue)&&!isNaN(this._endValue)&&!isNaN(this._duration);}return d&&c;},_getIndex:function(c,e){for(var d=0;d<c.length;d++){if(c[d]==e){return d;}}return -1;},_getValue:function(c){return this._needPixel?c+"px":c;},_run:function(){var c=this,d=0;if(/color|background-color|border-color/i.test(this._propertyName)){this._runColor();return;}this._runInterval=window.setInterval(function(){if(!c._node){c._stop();return;}var g=Math.ceil(c._easing(d,c._startValue,c._endValue-c._startValue,c._duration*1000));if(c._propertyName=="opacity"){g=g/100;}if(c._propertyName=="scrollLeft"||c._propertyName=="scrollTop"){c._node[c._propertyName]=c._getValue(g);}else{var f={};f[c._propertyName]=c._getValue(g);c.setStyles(c._node,f);if(c._isIE&&c._propertyName=="opacity"){c._node.style.filter="Alpha(opacity="+g*100+")";}}if(d>=c._duration*1000){window.clearInterval(c._runInterval);c._runInterval=null;if(c._propertyName=="scrollLeft"||c._propertyName=="scrollTop"){c._node[c._propertyName]=c._getValue(c._endValue);}else{var e={};e[c._propertyName]=c._getValue(c._propertyName=="opacity"?c._endValue/100:c._endValue);c.setStyles(c._node,e);if(c._isIE&&c._propertyName=="opacity"){c._node.style.filter="Alpha(opacity="+c._endValue+")";}}c._callback&&c._callback();}d+=c._timeLine;},this._timeLine);},_runColor:function(){var l=this,f=0,g=this._getColor(this._startValue),k=this._getColor(this._endValue);if(!g||!k){return;}var c=g[0],h=g[1],e=g[2],d=k[0],j=k[1],i=k[2];this._runInterval=setInterval(function(){if(!l._node){l._stop();return;}var o=Math.ceil(l._easing(f,c,d-c,l._duration*1000));var n=Math.ceil(l._easing(f,h,j-h,l._duration*1000));var q=Math.ceil(l._easing(f,e,i-e,l._duration*1000));var p={};p[l._propertyName]="rgb("+o+", "+n+", "+q+")";l.setStyles(l._node,p);if(f>=l._duration*1000){window.clearInterval(l._runInterval);l._runInterval=null;var m={};m[l._propertyName]=l._endValue;l.setStyles(l._node,m);l._callback&&l._callback();}f+=l._timeLine;},this._timeLine);},_getColor:function(k){k=k.replace(/(^\s*)|(\s*$)/g,"");var h=/^\s*rgb\s*\(\s*\d{1,3}\s*\,\s*\d{1,3}\s*\,\s*\d{1,3}\s*\)\s*$/i;var f=/^\s*\#[a-zA-Z0-9]{3}\s*$/;var e=/^\s*\#[a-zA-Z0-9]{6}\s*$/;var d=[];if(h.test(k)){nStr=k.split("(")[1].split(")")[0].split(",");for(var g=0;g<nStr.length;g++){d.push(nStr[g]/1);}return d;}if(e.test(k)){var c=k.replace("#","").match(/(\w|\d){2}/g);for(var g=0;g<c.length;g++){d.push(Number("0x"+c[g]).toString(10)/1);}return d;}if(f.test(k)){var j=k.replace("#","").split("");for(var g=0;g<j.length;g++){d.push(Number("0x"+(j[g]+j[g])).toString(10)/1);}return d;}return null;},_rgbToColor:function(h,f,c){var e=h.toString(16);var d=f.toString(16);var i=f.toString(16);if(e.length<2){e="0"+e;}if(d.length<2){d="0"+d;}if(i.length<2){i="0"+i;}return"#"+e+d+i;},_stop:function(){if(this._runInterval){window.clearInterval(this._runInterval);this._runInterval=null;}this._clear();},_clear:function(){this._node=null;},stop:function(){this._stop();},setStyles:function(e,d){for(var c in d){this.setStyle(e,c,d[c]);}},setStyle:function(e,c,d){if(!e){return;}e.style[this.getCamelCase(c)]=d;},getCamelCase:function(c){if(c.indexOf("-")<0&&c.indexOf("_")<0){return c;}return c.replace(/[-_][^-_]/g,function(d){return d.charAt(1).toUpperCase();});}};return{Easing:a,Tween:b};})();